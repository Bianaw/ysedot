<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Results</title>
    <link rel="stylesheet" href="../HomePage/style.css">
</head>
<body>
    <div class="header">
        <button onclick="goToHomePage()">חזרה לדף ראשי</button>
    </div>

    <header>
        <h1 class="search-results-title">תוצאות החיפוש</h1>
    </header>
    
    <section class="results-container">
        <!-- תוצאות החיפוש יתווספו כאן באמצעות JavaScript -->
    </section>

    <script>
        // שליפת התוצאות מ-localStorage
        const resultsContainer = document.querySelector('.results-container');
        const searchResults = JSON.parse(localStorage.getItem('searchResults')) || [];

        // פונקציה לחזרה לדף הבית
        function goToHomePage() {
            window.location.href = "../HomePage/index.html"; // שנה את הנתיב לכתובת של דף הבית שלך
        }

        // פונקציה להצגת התוצאות
        function renderResults(posts) {
            if (posts.length === 0) {
                resultsContainer.innerHTML = '<p>לא נמצאו תוצאות</p>';
                return;
            }

            posts.forEach((post) => {
    console.log("Image URL:", post.image || post.images);

    const imageSrc = post.image || post.images || 'default-image.jpg'; // Ensure fallback to default

    const postHTML = `
        <div class="property-card-horizontal">
            <div class="property-image-container">
                <img class="property-image" src="${imageSrc}" alt="${post.title}">
            </div>
            <div class="property-details">
                <h3>${post.title}</h3>
                <p><strong>₪${post.price}</strong></p>
                <p>${post.type} - דירה ${post.rooms} חדרים (${post.size} מ"ר)</p>
                <p>קומה ${post.floor}</p>
                <a href="../detailss/details.html?id=${post.id}" class="details-button">פרטים נוספים</a>
            </div>
        </div>
    `;
    resultsContainer.innerHTML += postHTML;
});

        }

        // הצגת התוצאות
        renderResults(searchResults);
    </script>
</body>
</html>
